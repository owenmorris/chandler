<?xml version="1.0" encoding="iso-8859-1"?>

<Parcel itsName="schema"
        xmlns="http://osafoundation.org/parcels/core"
        xmlns:doc="http://osafoundation.org/parcels/osaf/examples/zaobao/schema"
        xmlns:content="http://osafoundation.org/parcels/osaf/contentmodel">

  <!-- Meta information for the parcel -->
  <displayName>ZaoBao RSS Schema</displayName>
  <description>RSS schema for ZaoBao parcel for 0.4 release</description>
  <version>0.1</version>

  <!-- 
    Shared between RSSChannel and RSSItem 
    Note that this doesn't create the attributes, merely declares them.
    They will be referred to later
    -->
  <Attribute itsName="link">
    <displayName>Web URL</displayName>
    <cardinality>single</cardinality>
    <type itemref="URL"/>
  </Attribute>

  <Attribute itsName="category">
    <displayName>Category</displayName>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itsName="author">
    <displayName>Author</displayName>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itsName="date">
    <displayName>Date</displayName>
    <cardinality>single</cardinality>
    <type itemref="DateTime"/>
  </Attribute>


  <!-- Kind: RSSChannel -->

  <Kind itsName="RSSChannel">
    <!-- make this into an item collection so we can appear natively in the sidebar -->
    <superKinds itemref="content:ItemCollection"/>
    
    <classes key="python">osaf.examples.zaobao.RSSData.RSSChannel</classes>
    
    <displayName>RSS Channel</displayName>

    <!-- Redirect attributes - this redirects "standard" attributes to RSSChannel-specific attributes -->
    <Attribute itsName="who">
        <redirectTo value="author"/>
    </Attribute>
    
    <Attribute itsName="about">
        <redirectTo value="displayName"/>
    </Attribute>
    
    <!-- 
        attribute declarations - note that these are 
        actually used by <attributes> tag below 
    -->
    <Attribute itsName="url">
      <displayName>URL</displayName>
      <cardinality>single</cardinality>
      <type itemref="String"/>
    </Attribute>
  
    <Attribute itsName="etag">
      <displayName>eTag</displayName>
      <cardinality>single</cardinality>
      <type itemref="String"/>
    </Attribute>
  
    <Attribute itsName="lastModified">
      <displayName>Last Modified</displayName>
      <cardinality>single</cardinality>
      <type itemref="DateTime"/>
    </Attribute>

    <!-- channel attributes -->
    <Attribute itsName="copyright">
      <displayName>Copyright</displayName>
      <cardinality>single</cardinality>
      <type itemref="String"/>
    </Attribute>

    <Attribute itsName="language">
      <displayName>Language</displayName>
      <cardinality>single</cardinality>
      <type itemref="String"/>
    </Attribute>

    <Attribute itsName="isUnread">
      <displayName>Is Unread</displayName>
      <cardinality>single</cardinality>
      <type itemref="Boolean"/>
    </Attribute>
  
    <Attribute itsName="items">
      <displayName>Items</displayName>
      <cardinality>single</cardinality>
      <type itemref="content:ItemCollection"/>
    </Attribute>
    
    <!-- Actual attribute uses -->
    
    <!-- RSSChannel attributes -->
    <attributes itemref="doc:RSSChannel/url"/>
    <attributes itemref="doc:RSSChannel/etag"/>
    <attributes itemref="doc:RSSChannel/lastModified"/>
    <attributes itemref="doc:RSSChannel/copyright"/>
    <attributes itemref="doc:RSSChannel/language"/>

    <attributes itemref="doc:RSSChannel/isUnread"/>
    <attributes itemref="doc:RSSChannel/items"/>

    <!-- These attributes are shared between RSSChannel and RSSItem -->
    <attributes itemref="doc:link"/>
    <attributes itemref="doc:category"/>
    <attributes itemref="doc:author"/>
    <attributes itemref="doc:date"/>


    <!-- Clouds defined on this item, to aid in sharing and copying -->
    <Cloud itsName="SharingCloud">
        <Endpoint itsName="author">
            <attribute value="author"/>
        </Endpoint>
        <endpoints itemref="doc:RSSChannel/SharingCloud/author"/>
        <Endpoint itsName="copyright">
            <attribute value="copyright"/>
        </Endpoint>
        <endpoints itemref="doc:RSSChannel/SharingCloud/copyright"/>
        <Endpoint itsName="link">
            <attribute value="link"/>
        </Endpoint>
        <endpoints itemref="doc:RSSChannel/SharingCloud/link"/>
        <Endpoint itsName="url">
            <attribute value="url"/>
        </Endpoint>
        <endpoints itemref="doc:RSSChannel/SharingCloud/url"/>
    </Cloud>
    <clouds alias="sharing" itemref="doc:RSSChannel/SharingCloud"/>

  </Kind>  


  <!-- Kind: RSSItem -->

  <Kind itsName="RSSItem">
    <!-- for now, we are not a Note - mostly because this makes unnecessary UI appear in the detail view -->
    <!-- <superKinds itemref="content:Note"/> -->
    <superKinds itemref="content:ContentItem"/>
    
    <classes key="python">osaf.examples.zaobao.RSSData.RSSItem</classes>

    <displayName>RSS Item</displayName>

    <!-- Redirect attributes - this redirects "standard" attributes to RSSChannel-specific attributes -->
    <Attribute itsName="about">
        <redirectTo value="displayName"/>
    </Attribute>
    <Attribute itsName="who">
        <redirectTo value="author"/>
    </Attribute>
    <Attribute itsName="body">
        <redirectTo value="content"/>
    </Attribute>
    
    <!-- 
        attribute declarations - note that these are 
        actually used by <attributes> tag below 
    -->
    <Attribute itsName="channel">
      <displayName>Channel</displayName>
      <cardinality>single</cardinality>
      <type itemref="doc:RSSChannel"/>
    </Attribute>

    <Attribute itsName="content">
      <cardinality>single</cardinality>
      <type itemref="Lob"/>
    </Attribute>

    <!-- Actual attribute uses -->
    <attributes itemref="doc:RSSItem/content"/>
    <attributes itemref="doc:RSSItem/channel"/>

    <attributes itemref="doc:link"/>
    <attributes itemref="doc:category"/>
    <attributes itemref="doc:author"/>
    <attributes itemref="doc:date"/>

    <!-- Clouds defined on this item, to aid in sharing and copying -->
    <Cloud itsName="SharingCloud">
        <Endpoint itsName="link">
            <attribute value="link"/>
        </Endpoint>
        <endpoints itemref="doc:RSSItem/SharingCloud/link"/>
        <Endpoint itsName="category">
            <attribute value="category"/>
        </Endpoint>
        <endpoints itemref="doc:RSSItem/SharingCloud/category"/>
        <Endpoint itsName="author">
            <attribute value="author"/>
        </Endpoint>
        <endpoints itemref="doc:RSSItem/SharingCloud/author"/>
        <Endpoint itsName="date">
            <attribute value="date"/>
        </Endpoint>
        <endpoints itemref="doc:RSSItem/SharingCloud/date"/>
    </Cloud>
    <clouds alias="sharing" itemref="doc:RSSItem/SharingCloud"/>

  </Kind>

  
</Parcel>
