<?xml version="1.0" encoding="iso-8859-1"?>

<!-- $Revision$ -->
<!-- $Date$ -->
<!-- Copyright (c) 2003-2004 Open Source Applications Foundation -->
<!-- License: http://osafoundation.org/Chandler_0.1_license_terms.htm -->

<Parcel itsName="mail"
    itemClass="osaf.contentmodel.mail.Mail.MailParcel"
    xmlns="http://osafoundation.org/parcels/core"
    xmlns:content="http://osafoundation.org/parcels/osaf/contentmodel"
    xmlns:mail="http://osafoundation.org/parcels/osaf/contentmodel/mail">

    <displayName>Mail Content Model</displayName>
    <description>Content Model for the Mail Messages, Email Accounts, and other things related to email</description>
    <version>0.4</version>
    <author>Open Source Applications Foundation</author>


    <Kind itsName="AccountBase">
        <superKinds itemref="content:ContentItem" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.AccountBase" />
        <displayName value="Account base kind" />
        <description value="The base kind for various account kinds, such as IMAP, SMTP, WebDav" />

        <Attribute itsName="numRetries">
            <displayName value="Number of Retries" />
            <description value="How many times to retry before giving up" />
            <type itemref="Integer" />
            <initialValue type="Integer" value="1" />
        </Attribute>

        <Attribute itsName="username">
            <displayName value="Username" />
            <description value="The account login name" />
            <type itemref="String" />
            <initialValue type="String" value=""/>
        </Attribute>

        <Attribute itsName="password">
            <displayName value="Password" />
            <description value="This could either be a password or some other sort of authentication info. We can use it for whatever is needed for this account type." />
            <issues value="This should not be a simple string. We need some solution for encrypting it." />
            <type itemref="String" />
            <initialValue type="String" value=""/>
        </Attribute>

        <Attribute itsName="host">
            <displayName value="Host" />
            <description value="The hostname of the account" />
            <type itemref="String" />
            <initialValue type="String" value=""/>
        </Attribute>

        <Attribute itsName="port">
            <displayName value="Port" />
            <description value="The port number to use" />
            <type itemref="Integer" />
        </Attribute>

        <Attribute itsName="connectionSecurity">
            <displayName value="Connection Security" />
            <description value="The security mechanism to leverage for a network connection" />

            <Enumeration itsName="connectionSecurityEnum">
                <displayName value="Connection Security Enumeration" />
                <values>NONE</values>
                <values>TLS</values>
                <values>SSL</values>
             </Enumeration>

             <type itemref="mail:AccountBase/connectionSecurity/connectionSecurityEnum"/>
             <initialValue type="mail:AccountBase/connectionSecurity/connectionSecurityEnum" value="NONE" />
        </Attribute>

        <Attribute itsName="pollingFrequency">
            <displayName value="Polling frequency" />
            <description value="Frequency in seconds" />
            <type itemref="Integer" />
            <initialValue type="Integer" value="300" />
        </Attribute>

        <Attribute itsName="mailMessages">
            <displayName value="Mail Messages" />
            <description value="Mail Messages sent or retrieved with this account " />
            <cardinality value="list" />
            <type itemref="mail:MailMessageMixin" />
            <inverseAttribute itemref="mail:MailMessageMixin/parentAccount" />
            <initialValue />
        </Attribute>
        <Attribute itsName="accountType">
            <displayName value="Account Type" />
            <description value="POP, IMAP, or SMTP" />
            <type itemref="mail:AccountBase/accountType/accountTypeEnum" />

            <Enumeration itsName="accountTypeEnum">
                <values value="POP" />
                <values value="IMAP" />
                <values value="SMTP" />
            </Enumeration>
        </Attribute>

        <Attribute itsName="timeout">
            <displayName value="Timeout" />
            <description value="The number of seconds before timing out a stalled connection" />
            <type itemref="Integer" />
            <initialValue type="Integer" value="60" />
        </Attribute>


        <Attribute itsName="isActive">
            <displayName value="Is active" />
            <description value="Whether or not an account should be used for sending or fetching email" />
            <type itemref="Boolean" />
            <initialValue type="Boolean" value="True" />
        </Attribute>
    </Kind>


    <Kind itsName="DownloadAccountBase">
        <superKinds itemref="mail:AccountBase" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.DownloadAccountBase" />
        <displayName value="Downloaad Account Base" />
        <description value="Base Account for protocols that download mail" />

        <Attribute itsName="defaultSMTPAccount">
            <displayName value="Default SMTP Account" />
            <description value="Which SMTP account to use for sending mail from this account" />
            <type itemref="mail:SMTPAccount" />
            <inverseAttribute itemref="mail:SMTPAccount/accounts" />
            <initialValue itemref="None" />
        </Attribute>

        <Attribute itsName="downloadMax">
            <displayName value="Download Max" />
            <description value="The maximum number of messages to download before forcing a repository commit" />
            <type itemref="Integer" />
            <initialValue type="Integer" value="50" />
        </Attribute>

        <Attribute itsName="replyToAddress">
            <displayName value="Reply-To Address" />
            <type itemref="mail:EmailAddress" />
            <initialValue itemref="None" />
            <inverseAttribute itemref="mail:EmailAddress/accounts" />
        </Attribute>

        <Attribute itsName="emailAddress">
            <displayName value="Reply-To Address (Redirect)" />
            <redirectTo value="replyToAddress.emailAddress" />
        </Attribute>

        <Attribute itsName="fullName">
            <displayName value="Full Name (Redirect)" />
            <redirectTo value="replyToAddress.fullName" />
        </Attribute>

    </Kind>

    <Kind itsName="POPAccount">
        <superKinds itemref="mail:DownloadAccountBase" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.POPAccount" />
        <displayName value="POP Account" />
        <description value="An POP Account" />

        <Attribute itsName="port">
            <displayName value="Port" />
            <description value="The non-SSL port number to use" />
            <type itemref="Integer" />
            <initialValue type="Integer" value="110" />
            <issues value="In order to get a custom initialValue for this attribute for a POPAccount, I defined a 'duplicate' attribute, also named 'port', which normally would have been inherited from AccountBase" />
        </Attribute>

        <Attribute itsName="downloadedMessageUIDS">
            <displayName value="Downloaded Message UID" />
            <description value="Used for quick look up to discover if a message has already been downloaded" />
            <cardinality value="dict" />
            <type itemref="String" />
            <initialValue />
        </Attribute>

        <Attribute itsName="leaveOnServer">
            <displayName value="Leave Mail On Server" />
            <description value="Whether or not to leave messages on the server after downloading" />
            <type itemref="Boolean" />
            <initialValue type="Boolean" value="True" />
        </Attribute>

    </Kind>

    <Kind itsName="IMAPAccount">
        <superKinds itemref="mail:DownloadAccountBase" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.IMAPAccount" />
        <displayName value="IMAP Account" />
        <description value="An IMAP Account" />

        <Attribute itsName="port">
            <displayName value="Port" />
            <description value="The non-SSL port number to use" />
            <type itemref="Integer" />
            <initialValue type="Integer" value="143" />
            <issues value="In order to get a custom initialValue for this attribute for an IMAPAccount, I defined a 'duplicate' attribute, also named 'port', which normally would have been inherited from AccountBase" />
        </Attribute>

        <Attribute itsName="messageDownloadSequence">
            <displayName value="Message Download Sequence" />
            <type itemref="Long" />
            <initialValue type="Long" value="0" />
        </Attribute>

    </Kind>

    <Kind itsName="SMTPAccount">
        <superKinds itemref="mail:AccountBase" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.SMTPAccount" />
        <displayName value="SMTP Account" />
        <description value="An SMTP Account" />

        <Attribute itsName="port">
            <displayName value="Port" />
            <description value="The non-SSL port number to use" />
            <type itemref="Integer" />
            <initialValue type="Integer" value="25" />
            <issues value="In order to get a custom initialValue for this attribute for an SMTPAccount, I defined a 'duplicate' attribute, also named 'port', which normally would have been inherited from AccountBase" />
        </Attribute>

        <Attribute itsName="useAuth">
            <displayName value="Use Authentication" />
            <description value="Whether or not to use authentication when sending mail" />
            <type itemref="Boolean" />
            <initialValue type="Boolean" value="False" />
        </Attribute>

        <Attribute itsName="accounts">
            <displayName value="Accounts" />
            <description value="Which accounts use this SMTP account as their default" />
            <type itemref="mail:DownloadAccountBase" />
            <inverseAttribute itemref="mail:DownloadAccountBase/defaultSMTPAccount" />
            <cardinality value="list" />
            <initialValue />
        </Attribute>

        <Attribute itsName="signature">
            <issues value="Basic signiture addition to an outgoing message will be refined in future releases" />
            <type itemref="String" />
        </Attribute>
    </Kind>

    <Kind itsName="MailDeliveryError">
        <superKinds itemref="content:ContentItem" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.MailDeliveryError" />
        <displayName value="Mail Delivery Error kind" />
        <description value="Contains the error data associated with a MailDelivery Type" />

        <Attribute itsName="errorCode">
            <displayName value="The Error Code" />
            <description value="The Error Code returned by the Delivery Transport" />
            <type itemref="Integer" />
            <initialValue type="Integer" value="0" />
        </Attribute>

        <Attribute itsName="errorString">
            <type itemref="String" />
            <initialValue type="String" value="" />
        </Attribute>

        <Attribute itsName="errorDate">
            <type itemref="DateTime" />
        </Attribute>

        <Attribute itsName="mailDelivery">
            <displayName value="Mail Delivery" />
            <description value="The Mail Delivery that cause this error" />
            <type itemref="mail:MailDeliveryBase" />
            <initialValue itemref="None" />
            <inverseAttribute itemref="mail:MailDeliveryBase/deliveryErrors" />
        </Attribute>
    </Kind>


    <Kind itsName="MailDeliveryBase">
        <superKinds itemref="content:ContentItem" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.MailDeliveryBase" />
        <displayName value="Mail Delivery base kind" />
        <description value="Parent kind for delivery-specific attributes of a MailMessage" />

        <Attribute itsName="deliveryType">
            <displayName value="Delivery Type" />
            <description value="One of POP, IMAP, or SMTP" />
            <type itemref="mail:MailDeliveryBase/deliveryType/deliveryTypeEnum" />

            <Enumeration itsName="deliveryTypeEnum">
                <values value="POP" />
                <values value="IMAP" />
                <values value="SMTP" />
            </Enumeration>
        </Attribute>

        <Attribute itsName="mailMessage">
            <displayName value="Message" />
            <description value="Message which this delivery item refers to" />
            <type itemref="mail:MailMessageMixin" />
            <initialValue itemref="None" />
            <inverseAttribute itemref="mail:MailMessageMixin/deliveryExtension" />
        </Attribute>

        <Attribute itsName="deliveryErrors">
            <displayName value="Mail Delivery Errors" />
            <description value="Mail Delivery Errors associated with this transport" />
            <cardinality value="list" />
            <type itemref="mail:MailDeliveryError" />
            <inverseAttribute itemref="mail:MailDeliveryError/mailDelivery" />
            <initialValue />
        </Attribute>
    </Kind>


    <Kind itsName="SMTPDelivery">
        <superKinds itemref="mail:MailDeliveryBase" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.SMTPDelivery" />
        <displayName value="SMTP Delivery" />
        <description value="Tracks the status of an outgoing message" />
        <issues value="Currently the parcel loader can't set a default value for the state attribute" />

        <Attribute itsName="history">
            <displayName value="History" />
            <type itemref="mail:SMTPDelivery/history/historyEnum" />
            <cardinality value="list" />
            <initialValue />

            <Enumeration itsName="historyEnum">
                <values value="QUEUED" />
                <values value="FAILED" />
                <values value="SENT" />
            </Enumeration>

        </Attribute>

        <Attribute itsName="tries">
            <displayName value="Number of tries" />
            <description value="How many times we have tried to send it" />
            <type itemref="Integer" />
            <initialValue type="Integer" value="0" />
        </Attribute>

        <Attribute itsName="state">
            <displayName value="State" />
            <description value="The current state of the message" />
            <issues value="We don't appear to be able to set an initialValue for an attribute whose enumeration is defined in the same file (a deficiency in the parcel loader)" />
            <type itemref="mail:SMTPDelivery/state/stateEnum" />

            <Enumeration itsName="stateEnum">
                <values value="DRAFT" />
                <values value="QUEUED" />
                <values value="SENT" />
                <values value="FAILED" />
            </Enumeration>
        </Attribute>
    </Kind>

    <Kind itsName="IMAPDelivery">
        <superKinds itemref="mail:MailDeliveryBase" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.IMAPDelivery" />
        <displayName value="IMAP Delivery" />
        <description value="Tracks the state of an inbound message" />

        <Attribute itsName="folder">
            <displayName value="Folder" />
            <type itemref="String" />
            <initialValue type="String" value="" />
        </Attribute>

        <Attribute itsName="uid">
            <displayName value="IMAP UID" />
            <description value="The unique IMAP ID for the message" />
            <type itemref="Long" />
            <initialValue type="Long" value="0"/>
        </Attribute>

        <Attribute itsName="namespace">
            <displayName value="Namespace" />
            <description value="The namespace of the message" />
            <type itemref="String" />
            <initialValue type="String" value="" />
        </Attribute>

        <Attribute itsName="flags">
            <displayName value="Flags" />
            <cardinality value="list" />
            <type itemref="String" />
            <initialValue />
        </Attribute>

    </Kind>

    <Kind itsName="POPDelivery">
        <superKinds itemref="mail:MailDeliveryBase" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.POPDelivery" />
        <displayName value="POP Delivery" />
        <description value="Tracks the state of an inbound message" />

        <Attribute itsName="uid">
            <displayName value="POP UID" />
            <description value="The unique POP ID for the message" />
            <type itemref="String" />
            <initialValue type="String" value=""/>
        </Attribute>

    </Kind>

    <Kind itsName="MIMEBase">
        <superKinds itemref="content:ContentItem" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.MIMEBase" />
        <displayName value="MIME Base Kind" />
        <description value="Super kind for MailMessage and the various MIME kinds" />

        <Attribute itsName="mimeType">
            <displayName value="mimeType" />
            <type itemref="String" />
            <initialValue type="String" value="" />
        </Attribute>

        <Attribute itsName="mimeContainer">
            <type itemref="mail:MIMEContainer" />
            <initialValue itemref="None" />
            <inverseAttribute itemref="mail:MIMEContainer/mimeParts" />
        </Attribute>
    </Kind>

    <Kind itsName="MIMENote">
        <superKinds itemref="mail:MIMEBase" />
        <!--
         #XXX: Temporary solution to prevent attachments
               from showing up in the All Collection
        superKinds itemref="content:Note"/-->
        <classes key="python" value="osaf.contentmodel.mail.Mail.MIMENote" />
        <displayName value="MIME Note" />
        <description value="MIMEBase and Note, rolled into one" />

        <Attribute itsName="filename">
            <displayName value="File name" />
            <type itemref="String" />
            <initialValue type="String" value="" />
        </Attribute>

        <Attribute itsName="filesize">
            <displayName value="File Size" />
            <type itemref="Long" />
        </Attribute>
    </Kind>

    <Kind itsName="MIMEText">
        <superKinds itemref="mail:MIMENote" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.MIMEText" />
        <displayName value="MIME Text Kind" />

        <Attribute itsName="charset">
            <displayName value="Character set encoding" />
            <type itemref="String" />
            <initialValue type="String" value="utf-8" />
        </Attribute>

        <Attribute itsName="lang">
            <displayName value="Character set Language" />
            <type itemref="String" />
            <initialValue type="String" value="en" />
        </Attribute>
    </Kind>

    <Kind itsName="MIMEBinary">
        <superKinds itemref="mail:MIMENote" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.MIMEBinary" />
        <displayName value="MIME Binary Kind" />
    </Kind>


    <Kind itsName="MIMEContainer">
        <superKinds itemref="mail:MIMEBase" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.MIMEContainer" />
        <displayName value="MIME Container Kind" />

        <Attribute itsName="hasMimeParts">
            <initialValue type="Boolean" value="False" />
        </Attribute>

        <Attribute itsName="mimeParts">
            <displayName value="MIME Parts" />
            <cardinality value="list" />
            <type itemref="mail:MIMEBase" />
            <initialValue />
            <inverseAttribute itemref="mail:MIMEBase/mimeContainer" />
        </Attribute>
    </Kind>

    <Kind itsName="MIMESecurity">
        <superKinds itemref="mail:MIMEContainer" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.MIMESecurity" />
        <displayName value="MIME Security Kind" />
    </Kind>



    <Kind itsName="MailMessage">
        <superKinds itemref="mail:MailMessageMixin" />
        <superKinds itemref="content:Note" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.MailMessage" />
        <displayName value="Mail Message" />
        <description value="MailMessageMixin, and Note, all rolled up into one" />
        <displayAttribute value="subject" />
    </Kind>

    <Kind itsName="MailMessageMixin">
        <superKinds itemref="mail:MIMEContainer" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.MailMessageMixin" />
        <displayName value="Mail Message Mixin" />
        <displayAttribute value="subject" />
        <description value="Used to mixin mail message attributes into a content item" />
        <issues value="Once we have attributes and a cloud defined for Attachment, we need to include attachments by cloud, and not by value." />
        <issues value="Really not sure what to do with the 'downloadAccount' attribute and how it should be included in the cloud.  For now it's by value." />

        <Attribute itsName="deliveryExtension">
            <type itemref="mail:MailDeliveryBase" />
            <initialValue itemref="None" />
            <inverseAttribute itemref="mail:MailDeliveryBase/mailMessage" />
        </Attribute>

        <Attribute itsName="isOutbound">
            <type itemref="Boolean" />
            <initialValue type="Boolean" value="False" />
        </Attribute>

        <Attribute itsName="isInbound">
            <type itemref="Boolean" />
            <initialValue type="Boolean" value="False" />
        </Attribute>

        <Attribute itsName="parentAccount">
            <type itemref="mail:AccountBase" />
            <initialValue itemref="None" />
            <inverseAttribute itemref="mail:AccountBase/mailMessages" />
        </Attribute>

        <Attribute itsName="spamScore">
            <type itemref="Float" />
            <initialValue type="Float" value="0" />
        </Attribute>

        <Attribute itsName="rfc2822Message">
            <type itemref="Lob" />
        </Attribute>

        <Attribute itsName="dateSentString">
            <type itemref="String" />
            <initialValue type="String" value="" />
        </Attribute>

        <Attribute itsName="dateSent">
            <type itemref="DateTime" />
        </Attribute>

        <Attribute itsName="messageId">
            <type itemref="String" />
            <initialValue type="String" value="" />
        </Attribute>

        <Attribute itsName="toAddress">
            <displayName value="to"/>
            <type itemref="mail:EmailAddress" />
            <cardinality value="list" />
            <initialValue />
            <inverseAttribute itemref="mail:EmailAddress/messagesTo" />
        </Attribute>

        <Attribute itsName="fromAddress">
            <displayName value="from"/>
            <type itemref="mail:EmailAddress" />
            <initialValue itemref="None"/>
            <inverseAttribute itemref="mail:EmailAddress/messagesFrom" />
        </Attribute>

        <Attribute itsName="replyToAddress">
            <type itemref="mail:EmailAddress" />
            <initialValue itemref="None"/>
            <inverseAttribute itemref="mail:EmailAddress/messagesReplyTo" />
        </Attribute>

        <Attribute itsName="bccAddress">
            <type itemref="mail:EmailAddress" />
            <cardinality value="list" />
            <initialValue />
            <inverseAttribute itemref="mail:EmailAddress/messagesBcc" />
        </Attribute>

        <Attribute itsName="ccAddress">
            <type itemref="mail:EmailAddress" />
            <cardinality value="list" />
            <initialValue />
            <inverseAttribute itemref="mail:EmailAddress/messagesCc" />
        </Attribute>

        <Attribute itsName="subject">
            <type itemref="String" />
            <initialValue type="String" value="" />
        </Attribute>

        <Attribute itsName="headers">
            <description value="Catch-all for headers" />
            <cardinality value="dict" />
            <type itemref="String" />
            <initialValue />
        </Attribute>

        <Attribute itsName="chandlerHeaders">
            <type itemref="String" />
            <cardinality value="dict" />
            <initialValue />
        </Attribute>

        <Attribute itsName="who">
            <description value="Redirector to 'toAddress'" />
            <redirectTo value="toAddress" />
        </Attribute>

        <Attribute itsName="whoFrom">
            <description value="Redirector to 'fromAddress'" />
            <redirectTo value="fromAddress" />
        </Attribute>

        <Attribute itsName="about">
            <description value="Redirector to 'subject'" />
            <redirectTo value="subject" />
        </Attribute>

        <Attribute itsName="date">
            <description value="Redirector to 'dateSent'" />
            <redirectTo value="dateSent" />
        </Attribute>

        <Cloud itsName="SharingCloud">
          <Endpoint itsName="fromAddress">
            <attribute value="fromAddress"/>
          </Endpoint>
          <endpoints itemref="mail:MailMessageMixin/SharingCloud/fromAddress"/>

          <Endpoint itsName="bccAddress">
            <attribute value="bccAddress"/>
          </Endpoint>
          <endpoints itemref="mail:MailMessageMixin/SharingCloud/bccAddress"/>

          <Endpoint itsName="ccAddress">
            <attribute value="ccAddress"/>
          </Endpoint>
          <endpoints itemref="mail:MailMessageMixin/SharingCloud/ccAddress"/>

          <Endpoint itsName="toAddress">
            <attribute value="toAddress"/>
          </Endpoint>
          <endpoints itemref="mail:MailMessageMixin/SharingCloud/toAddress"/>

          <Endpoint itsName="replyToAddress">
            <attribute value="replyToAddress"/>
          </Endpoint>
          <endpoints itemref="mail:MailMessageMixin/SharingCloud/replyToAddress"/>

          <Endpoint itsName="subject">
            <attribute value="subject"/>
          </Endpoint>
          <endpoints itemref="mail:MailMessageMixin/SharingCloud/subject"/>

        </Cloud>
        <clouds alias="sharing" itemref="mail:MailMessageMixin/SharingCloud"/>

        <Cloud itsName="Cloud">

          <Endpoint itsName="fromAddress">
            <attribute value="fromAddress"/>
            <includePolicy value="byValue"/>
          </Endpoint>
          <endpoints itemref="mail:MailMessageMixin/Cloud/fromAddress"/>

          <Endpoint itsName="toAddress">
            <attribute value="toAddress"/>
            <includePolicy value="byValue"/>
          </Endpoint>
          <endpoints itemref="mail:MailMessageMixin/Cloud/toAddress"/>

          <Endpoint itsName="ccAddress">
            <attribute value="ccAddress"/>
            <includePolicy value="byValue"/>
          </Endpoint>
          <endpoints itemref="mail:MailMessageMixin/Cloud/ccAddress"/>

          <Endpoint itsName="bccAddress">
            <attribute value="bccAddress"/>
            <includePolicy value="byValue"/>
          </Endpoint>
          <endpoints itemref="mail:MailMessageMixin/Cloud/bccAddress"/>

          <Endpoint itsName="replyToAddress">
            <attribute value="replyToAddress"/>
            <includePolicy value="byValue"/>
          </Endpoint>
          <endpoints itemref="mail:MailMessageMixin/Cloud/replyToAddress"/>

          <Endpoint itsName="mimeParts">
            <attribute value="mimeParts" />
            <includePolicy value="byCloud" />
            <cloudAlias value="default" />
          </Endpoint>
          <endpoints itemref="mail:MailMessageMixin/Cloud/mimeParts"/>
        </Cloud>
        <clouds alias="default" itemref="mail:MailMessageMixin/Cloud"/>
    </Kind>


    <Kind itsName="EmailAddress">
        <superKinds itemref="content:ContentItem" />
        <displayName value="Email Address Kind" />
        <displayAttribute value="emailAddress" />
        <classes key="python" value="osaf.contentmodel.mail.Mail.EmailAddress" />
        <examples value="abe@osafoundation.org" />
        <description value="An item that represents a simple email address, plus all the info we might want to associate with it, like lists of message to and from this address." />
        <issues value="Someday we might want to have other attributes.  One example might be an 'is operational' flag that tells whether this address is still in service, or whether mail to this has been bouncing lately. Another example might be a 'superceded by' attribute, which would point to another Email Address item." />
        <issues value="Depending on how we end up using the 'emailAddress' attribute, we might want to break it into two attributes, one for the 'Abe Lincoln' part, and one for the 'abe@osafoundation.org' part. Alternatively, we might want to use one of Andi's compound types, with two fields." />
        <displayAttribute itemref="mail:EmailAddress/emailAddress"/>

        <Attribute itsName="emailAddress">
            <displayName value="Email Address" />
            <examples>"abe@osafoundation.org"</examples>
            <examples>"Abe Lincoln {abe@osafoundation.org}" (except with angle brackets instead of '{' and '}')</examples>
            <description value="An RFC 822 email address." />
            <type itemref="String" />
            <initialValue type="String" value="" />
        </Attribute>

        <Attribute itsName="fullName">
            <displayName value="Full Name" />
            <description value="A first and last name associated with this email address" />
            <type itemref="String" />
            <initialValue type="String" value="" />
        </Attribute>

        <Attribute itsName="vcardType">
            <displayName value="vCard type" />
            <description>Typical vCard types are values like 'internet', 'x400', and 'pref'. Chandler will use this attribute when doing import/export of Contact records in vCard format.</description>
            <type itemref="String"/>
            <initialValue type="String" value="" />
        </Attribute>

        <Attribute itsName="accounts">
            <displayName value="Used as Return Address by Email Account" />
            <description value="A list of Email Accounts that use this Email Address as the reply address for mail sent from the account." />
            <cardinality value="list" />
            <initialValue />
            <type itemref="mail:DownloadAccountBase" />
            <inverseAttribute itemref="mail:DownloadAccountBase/replyToAddress" />
        </Attribute>

        <Attribute itsName="messagesBcc">
            <displayName value="Messages Bcc" />
            <description value="A list of messages with their Bcc: header referring to this address" />
            <cardinality value="list" />
            <type itemref="mail:MailMessageMixin" />
            <inverseAttribute itemref="mail:MailMessageMixin/bccAddress" />
            <initialValue />
        </Attribute>

        <Attribute itsName="messagesCc">
            <displayName value="Messages cc" />
            <description value="A list of messages with their cc: header referring to this address" />
            <cardinality value="list" />
            <type itemref="mail:MailMessageMixin" />
            <inverseAttribute itemref="mail:MailMessageMixin/ccAddress" />
            <initialValue />
        </Attribute>

        <Attribute itsName="messagesFrom">
            <displayName value="Messages From" />
            <description value="A list of messages with their From: header referring to this address" />
            <cardinality value="list" />
            <type itemref="mail:MailMessageMixin" />
            <inverseAttribute itemref="mail:MailMessageMixin/fromAddress" />
            <initialValue />
        </Attribute>

        <Attribute itsName="messagesReplyTo">
            <displayName value="Messages Reply To" />
            <description value="A list of messages with their Reply-To: header referring to this address" />
            <cardinality value="list" />
            <type itemref="mail:MailMessageMixin" />
            <inverseAttribute itemref="mail:MailMessageMixin/replyToAddress" />
            <initialValue />
        </Attribute>

        <Attribute itsName="messagesTo">
            <displayName value="Messages To" />
            <description value="A list of messages with their To: header referring to this address" />
            <cardinality value="list" />
            <type itemref="mail:MailMessageMixin" />
            <inverseAttribute itemref="mail:MailMessageMixin/toAddress" />
            <initialValue />
        </Attribute>

        <Attribute itsName="inviteeOf">
            <displayName>Invitee Of</displayName>
            <description>List of collections that the user is about to be invited to share with.</description>
            <cardinality>list</cardinality>
            <type itemref="content:ItemCollection"/>
            <inverseAttribute itemref="content:ItemCollection/invitees"/>
        </Attribute>

        <Cloud itsName="SharingCloud">
          <Endpoint itsName="emailAddress">
            <attribute value="emailAddress"/>
          </Endpoint>
          <endpoints itemref="mail:EmailAddress/SharingCloud/emailAddress"/>
          <Endpoint itsName="fullName">
            <attribute value="fullName"/>
          </Endpoint>
          <endpoints itemref="mail:EmailAddress/SharingCloud/fullName"/>
        </Cloud>
        <clouds alias="sharing" itemref="mail:EmailAddress/SharingCloud"/>

    </Kind>

</Parcel>
